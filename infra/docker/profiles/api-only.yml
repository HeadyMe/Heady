# HEADY_BRAND:BEGIN
# ╔══════════════════════════════════════════════════════════════════╗
# ║  ██╗  ██╗███████╗ █████╗ ██████╗ ██╗   ██╗                     ║
# ║  ██║  ██║██╔════╝██╔══██╗██╔══██╗╚██╗ ██╔╝                     ║
# ║  ███████║█████╗  ███████║██║  ██║ ╚████╔╝                      ║
# ║  ██╔══██║██╔══╝  ██╔══██║██║  ██║  ╚██╔╝                       ║
# ║  ██║  ██║███████╗██║  ██║██████╔╝   ██║                        ║
# ║  ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝╚═════╝    ╚═╝                        ║
# ║                                                                  ║
# ║  ∞ SACRED GEOMETRY ∞  Organic Systems · Breathing Interfaces    ║
# ║  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  ║
# ║  FILE: infra/docker/profiles/api-only.yml                                                    ║
# ║  LAYER: root                                                  ║
# ╚══════════════════════════════════════════════════════════════════╝
# HEADY_BRAND:END
# ============================================================
# HEADY SYSTEMS | Profile: api-only
# ============================================================
# Minimal footprint — only API gateway, auth, and data layer.
# No UI, no local models. Ideal for thin-client / cloud relay.
# ============================================================

services:
  heady-api:
    environment:
      NODE_ENV: production

  auth-service:
    environment:
      NODE_ENV: production

  heady-postgres:
    environment:
      POSTGRES_USER: heady

  heady-redis:
    environment:
      REDIS_MAXMEMORY: 128mb

  # Disabled services — override scale to 0
  heady-web:
    deploy:
      replicas: 0
  ollama:
    deploy:
      replicas: 0
  voice-io:
    deploy:
      replicas: 0
  heady-orchestrator:
    deploy:
      replicas: 0
  heady-rag:
    deploy:
      replicas: 0
  embeddings-service:
    deploy:
      replicas: 0
  telemetry-service:
    deploy:
      replicas: 0
  billing-service:
    deploy:
      replicas: 0
  mcp-gateway:
    deploy:
      replicas: 0
